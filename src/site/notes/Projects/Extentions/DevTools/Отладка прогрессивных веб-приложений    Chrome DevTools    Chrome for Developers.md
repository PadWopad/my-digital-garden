---
{"dg-publish":true,"permalink":"/projects/extentions/dev-tools/otladka-progressivnyh-veb-prilozhenij-chrome-dev-tools-chrome-for-developers/"}
---


# Отладка прогрессивных веб-приложений  |  Chrome DevTools  |  Chrome for Developers

> ## Excerpt
> Используйте панель «Приложение» для проверки, изменения и отладки манифестов веб-приложений, сервис-воркеров и кэшей сервис-воркеров.

---
![София Емельянова](https://web.dev/images/authors/sofiayem.jpg?hl=ru)

Используйте панель **«Приложение»** для проверки, изменения и отладки манифестов веб-приложений, сервис-воркеров и кэшей сервис-воркеров.

<iframe frameborder="0" allowfullscreen="" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" title="Debugging PWA with DevTools #DevToolsTips" width="640" height="360" src="https://www.youtube.com/embed/fGU39PukAlA?origin=https%3A%2F%2Fdeveloper.chrome.com&amp;autoplay&amp;controls&amp;embed_domain&amp;enablejsapi=1&amp;end&amp;hl&amp;showinfo&amp;start&amp;video-id=fGU39PukAlA&amp;widgetid=1" id="widget2" data-gtm-yt-inspected-100007133_93="true" data-gtm-yt-inspected-183356566_95="true"></iframe>

[Прогрессивные веб-приложения (PWA)](https://web.dev/progressive-web-apps?hl=ru) — это современные высококачественные приложения, созданные с использованием веб-технологий. PWA предлагают возможности, аналогичные iOS, Android и настольным приложениям. Они есть:

-   Надежность даже в нестабильных сетевых условиях.
-   Устанавливается для запуска поверхностей операционных систем, таких как папка **«Приложения»** в Mac OS X, меню **«Пуск»** в Windows и главный экран в Android и iOS.
-   Появляйтесь в переключателях активности, в поисковых системах устройств, таких как Spotlight, и в таблицах обмена контентом.

В этом руководстве обсуждаются только функции Progressive Web App на панели **«Приложение»** . Если вам нужна помощь по другим панелям, обратитесь к последнему разделу этого руководства — [Руководства по другим панелям приложений](https://developer.chrome.com/docs/devtools/progressive-web-apps?hl=ru#other) .

## Краткое содержание

-   Используйте вкладку **«Манифест»** , чтобы проверить манифест вашего веб-приложения.
-   Используйте вкладку **Service Workers** для выполнения целого ряда задач, связанных с Service Worker, таких как отмена регистрации или обновление службы, эмуляция push-событий, переход в автономный режим или остановка Service Worker.
-   Просматривайте кэш сервисного работника на вкладке **«Хранилище кэша»** .
-   Отмените регистрацию сервисного работника и очистите все хранилище и кэши одним нажатием кнопки на вкладке **«Очистить хранилище»** .

## Манифест веб-приложения

Если вы хотите, чтобы пользователи могли добавлять ваше приложение в папку **«Приложения»** в Mac OS X, в меню **«Пуск»** в Windows и на главный экран в Android и iOS, вам понадобится [манифест веб-приложения](https://web.dev/add-manifest/?hl=ru) . Манифест определяет, как приложение отображается на главном экране, куда направить пользователя при запуске с главного экрана и как приложение выглядит при запуске.

После настройки манифеста вы можете использовать вкладку **«Манифест»** на панели **«Приложение»** , чтобы проверить его.

![Вкладка «Манифест».](https://developer.chrome.com/static/docs/devtools/progressive-web-apps/image/the-manifest-pane-6e96daf5347ea.png?hl=ru)

-   Чтобы просмотреть источник манифеста, щелкните ссылку под меткой **манифеста приложения** ( `manifest.webmanifest` на снимке экрана выше).
-   Разделы **«Идентификация»** и **«Презентация»** просто отображают поля из источника манифеста более удобным для пользователя способом.
-   Раздел **«Обработчики протоколов»** позволяет вам протестировать регистрацию обработчика протокола URL-адреса вашего PWA одним нажатием кнопки. Дополнительные сведения см. в разделе [Регистрация обработчика протокола тестового URL-адреса](https://developer.chrome.com/docs/devtools/progressive-web-apps?hl=ru#test-protocol-handler) .
-   [В разделе **«Значки»**](https://developer.chrome.com/docs/devtools/progressive-web-apps?hl=ru#icons) отображаются все указанные вами значки и вы можете проверить их маски.
-   Набор разделов [«Ярлык #N»](https://developer.chrome.com/docs/devtools/progressive-web-apps?hl=ru#shortcuts) отображает информацию обо всех объектах ярлыка.
-   В разделе [«Снимок экрана #N»](https://developer.chrome.com/docs/devtools/progressive-web-apps?hl=ru#screenshot) отображаются снимки экрана для более удобного пользовательского интерфейса установки вашего приложения.

Кроме того, если DevTools обнаруживает ошибку, например значок, который невозможно загрузить, на вкладке **«Манифест»** отображается раздел **«Установка»,** описывающий ошибку.

![Раздел «Установка» на вкладке «Манифест».](https://developer.chrome.com/static/docs/devtools/progressive-web-apps/image/the-installability-sectio-579d7c051a3a9.png?hl=ru)

### Просмотр и проверка маскируемых значков

В разделе **«Значки»** на вкладке **«Манифест»** отображаются все значки вашего приложения. В этом разделе вы также можете проверить безопасные области на [наличие маскируемых значков](https://web.dev/articles/maskable-icon?hl=ru) — формата значков, который адаптируется к платформам.

Чтобы обрезать значки так, чтобы была видна только минимальная безопасная область, установите флажок ![Флажок.](https://developer.chrome.com/static/docs/devtools/progressive-web-apps/image/checkbox-fe5e13f41ce6.svg?hl=ru) **Показывать только минимальную безопасную область для маскируемых значков** .

![Просмотр минимальных безопасных областей для маскируемых значков.](https://developer.chrome.com/static/docs/devtools/progressive-web-apps/image/viewing-minimum-safe-are-04cb00e3f9cc8.png?hl=ru)

Если весь ваш логотип виден в безопасной зоне, все готово.

### Установка триггера

Chrome позволяет вам включать и продвигать установку вашего PWA непосредственно в его пользовательском интерфейсе. Узнайте [, как предоставить собственный опыт установки в приложении](https://web.dev/customize-install/?hl=ru) .

Чтобы запустить процесс установки вашего PWA:

1.  Откройте целевую страницу PWA в Chrome.
2.  В правой части адресной строки вверху нажмите кнопку ![Установить.](https://developer.chrome.com/static/docs/devtools/progressive-web-apps/image/install-c29aa41fe03a8.svg?hl=ru) **Установить** .
    
    ![Кнопка «Установить».](https://developer.chrome.com/static/docs/devtools/progressive-web-apps/image/the-install-button-8560d7cfd73e1.png?hl=ru)
    
3.  Следуйте инструкциям на экране.
    

Функция **«Установить приложение»** не может имитировать рабочий процесс для мобильных устройств. Обратите внимание, как настольный браузер Chrome отображает кнопку установки в адресной строке, хотя DevTools находится в [режиме устройства](https://developer.chrome.com/docs/devtools/device-mode?hl=ru) . Однако если вы сможете успешно добавить свое приложение на рабочий стол, оно будет работать и на мобильных устройствах.

Если вы хотите протестировать настоящие мобильные возможности, вы можете подключить настоящее мобильное устройство к DevTools с помощью [удаленной отладки](https://developer.chrome.com/docs/devtools/remote-debugging?hl=ru) . Чтобы запустить установку на подключенном мобильном устройстве, откройте ![Трехточечное меню.](https://developer.chrome.com/static/docs/devtools/progressive-web-apps/image/three-dot-menu-87b13d8b232c3.svg?hl=ru) трехточечное меню и нажмите ![Установите приложение.](https://developer.chrome.com/static/docs/devtools/progressive-web-apps/image/install-app-aa480cc99f21f.svg?hl=ru) **Установите приложение** .

### Проверьте ярлыки

[Ярлыки приложений](https://web.dev/articles/app-shortcuts?hl=ru) позволяют обеспечить быстрый доступ к ряду распространенных действий, которые часто нужны пользователям.

Чтобы проверить ярлыки, которые вы определили в [файле манифеста](https://web.dev/articles/app-shortcuts?hl=ru#define_app_shortcuts_in_the_web_app_manifest) , прокрутите страницу до разделов **«Ярлык #N»** на вкладке **«Манифест»** .

![Раздел «Ярлык» на вкладке «Манифест».](https://developer.chrome.com/static/docs/devtools/progressive-web-apps/image/shortcut-section-the-man-d4d9611c55d5f.png?hl=ru)

### Просмотрите снимки экрана для более удобного пользовательского интерфейса установки.

Когда вы добавите описание и набор [снимков экрана в файл манифеста](https://web.dev/add-manifest?hl=ru#screenshots) , ваше приложение получит более богатое диалоговое окно установки.

Чтобы просмотреть снимки экрана, перейдите к разделу **«Снимок экрана № N»** на вкладке **«Манифест»** .

![Диалог установки и скриншоты на вкладке Манифест.](https://developer.chrome.com/static/docs/devtools/progressive-web-apps/image/the-installation-dialog-06b1dd5ce9eaa.png?hl=ru)

### Регистрация обработчика протокола тестового URL-адреса

PWA могут обрабатывать ссылки, использующие определенный протокол для более интегрированного взаимодействия. Чтобы узнать, как создать обработчик, см. [раздел Регистрация обработчика протокола URL-адреса для PWA](https://developer.chrome.com/docs/web-platform/best-practices/url-protocol-handler?hl=ru) .

Чтобы протестировать ваш обработчик:

1.  [Откройте DevTools](https://developer.chrome.com/docs/devtools/open?hl=ru) на целевой странице вашего PWA. Например, посмотрите эту [демонстрационную версию PWA](https://protocol-handler.glitch.me/) .
2.  На демонстрационной странице установите PWA и перезагрузите приложение после установки. Теперь браузер зарегистрировал PWA в качестве обработчика протокола `web+coffee` .
3.  В разделе **«Приложение»** > **«Манифест»** > **«Обработчик протокола»** введите URL-адрес, который необходимо протестировать обработчику, и нажмите **«Протестировать протокол»** . ![Тестирование обработчика.](https://developer.chrome.com/static/docs/devtools/progressive-web-apps/image/testing-handler-ceb37867cf8cf.png?hl=ru) В этом примере обработчик может обрабатывать `americano` , `chai` и `latte-macchiato` .
4.  Когда Chrome спросит вас, может ли он открыть приложение, подтвердите его, нажав **«Открыть обработчик протокола»** . ![Откройте приложение.](https://developer.chrome.com/static/docs/devtools/progressive-web-apps/image/open-app-e8117350deb8.png?hl=ru)
5.  В следующем диалоговом окне разрешите приложению обрабатывать ссылки `web+coffee` . ![Разрешить обработку ссылок.](https://developer.chrome.com/static/docs/devtools/progressive-web-apps/image/allow-handle-links-ba5af01a41b5a.png?hl=ru)

Если обработчик успешно обработает ссылку, вы увидите в приложении изображение открытой чашки кофе.

## Работники сферы обслуживания

Сервисные работники — это фундаментальная технология веб-платформы будущего. Это сценарии, которые браузер запускает в фоновом режиме, отдельно от веб-страницы. Эти сценарии позволяют получить доступ к функциям, для которых не требуется веб-страница или взаимодействие с пользователем, например push-уведомления, фоновая синхронизация и автономный режим.

Связанные руководства:

-   [Введение в сервисных работников](https://developer.chrome.com/docs/workbox/service-worker-overview?hl=ru)
-   [Push-уведомления: своевременные, релевантные и точные](https://web.dev/push-notifications-overview/?hl=ru)

Вкладка **«Служебные работники»** на панели **«Приложения»** — это основное место в DevTools для проверки и отладки сервисных работников.

![Вкладка «Сервисные работники».](https://developer.chrome.com/static/docs/devtools/progressive-web-apps/image/the-service-workers-pane-2d79d90e8987b.png?hl=ru)

-   Если сервис-воркер установлен на открытой в данный момент странице, вы увидите его в списке на этой вкладке. Например, на скриншоте выше установлен сервис-воркер для области `https://airhorner.com/` .
-   ![Флажок.](https://developer.chrome.com/static/docs/devtools/progressive-web-apps/image/checkbox-acc817440606a.svg?hl=ru) Флажок **«Автономно»** переводит DevTools в автономный режим. Это эквивалентно автономному режиму, доступному на панели **«Сеть»** , или опции `Go offline` в [меню команд](https://developer.chrome.com/docs/devtools/command-menu?hl=ru) .
-   ![Флажок.](https://developer.chrome.com/static/docs/devtools/progressive-web-apps/image/checkbox-ad79198697988.svg?hl=ru) Флажок **«Обновлять при перезагрузке»** заставляет сервис-работника обновляться при каждой загрузке страницы.
-   ![Флажок.](https://developer.chrome.com/static/docs/devtools/progressive-web-apps/image/checkbox-29324e93a37b4.svg?hl=ru) **Флажок «Обход сети»** обходит сервис-воркера и заставляет браузер обращаться к сети за запрошенными ресурсами.
-   Ссылка **«Сетевые запросы»** позволяет перейти на панель **«Сеть»** со списком перехваченных запросов, связанных с сервис-воркером (фильтр `is:service-worker-intercepted` ).
-   Ссылка **«Обновить»** выполняет однократное обновление указанного сервис-воркера.
-   Кнопка **Push** имитирует push-уведомление без полезной нагрузки (также известное как [Tickle](https://web.dev/push-notifications-how-push-works/?hl=ru) ).
-   Кнопка **«Синхронизировать»** эмулирует событие фоновой синхронизации.
-   Ссылка **«Отменить регистрацию»** отменяет регистрацию указанного сервисного работника. Ознакомьтесь с [разделом «Очистить хранилище»,](https://developer.chrome.com/docs/devtools/progressive-web-apps?hl=ru#clear-storage) чтобы узнать, как отменить регистрацию сервисного работника и очистить хранилище и кеши одним нажатием кнопки.
-   Строка **Source** сообщает вам, когда был установлен работающий в данный момент сервисный работник. Ссылка — это имя исходного файла сервис-воркера. Нажав на ссылку, вы перейдете к источнику сервис-воркера.
-   Строка **состояния** сообщает вам о состоянии сервисного работника. Число в этой строке ( `#16` на скриншоте) указывает, сколько раз обновлялся сервис-воркер. Если вы включите ![Флажок.](https://developer.chrome.com/static/docs/devtools/progressive-web-apps/image/checkbox-6f72f6b7bd4ac.svg?hl=ru) Установите флажок **«Обновить при перезагрузке»,** и вы заметите, что число увеличивается при каждой загрузке страницы. Рядом со статусом вы увидите ссылку **запуска** (если сервис-воркер остановлен) или ссылку **остановки** (если сервис-воркер запущен). Сервис-воркеры предназначены для остановки и запуска браузером в любое время. Явная остановка вашего сервисного работника с помощью ссылки **остановки** может имитировать это. Остановка вашего сервис-воркера — отличный способ проверить, как поведет себя ваш код, когда сервис-воркер снова запустится. Он часто выявляет ошибки из-за ошибочных предположений о постоянном глобальном состоянии.
-   В строке **«Клиенты»** указывается источник, к которому относится сервис-воркер. Кнопка **фокусировки** наиболее полезна, если у вас есть несколько зарегистрированных сервисных работников. Если вы нажмете кнопку **фокуса** рядом с сервис-воркером, который работает на другой вкладке, Chrome сосредоточится на этой вкладке.
-   В таблице **«Цикл обновления»** показаны действия сервисного работника и затраченное на них время, например установка, ожидание и активация. Чтобы увидеть точную временную метку каждого действия, нажмите кнопку ![Расширять.](https://developer.chrome.com/static/docs/devtools/progressive-web-apps/image/expand-2ce2223290efd.svg?hl=ru) **Развернуть** кнопки.
    
    ![Действия и их временные метки.](https://developer.chrome.com/static/docs/devtools/progressive-web-apps/image/activities-their-timesta-49f3a1ea90e2d.png?hl=ru)
    
    Дополнительные сведения см. в разделе [Жизненный цикл сервисного работника](https://web.dev/articles/service-worker-lifecycle?hl=ru) .
    

Если Service Worker вызывает какие-либо ошибки, на вкладке **Service Workers** отображается ![Ошибка.](https://developer.chrome.com/static/docs/devtools/progressive-web-apps/image/error-689b65890c79e.png?hl=ru) Значок **ошибки** с количеством ошибок рядом со строкой **«Источник»** . Ссылка с номером приведет вас в **Консоль** со всеми зарегистрированными ошибками.

![Ошибки сервисного работника в консоли.](https://developer.chrome.com/static/docs/devtools/progressive-web-apps/image/service-worker-errors-th-53f221504a278.png?hl=ru)

Чтобы просмотреть информацию обо всех Service Workers, нажмите **«Просмотреть все регистрации»** в нижней части вкладки **Service Workers** . Эта ссылка ведет на `chrome://serviceworker-internals/?devtools` , где вы можете продолжить отладку своих сервис-воркеров.

![Регистрация сервисных работников в serviceworker-internals.](https://developer.chrome.com/static/docs/devtools/progressive-web-apps/image/service-worker-registrati-2ad262380325.png?hl=ru)

## Кеши сервисных рабочих

На вкладке **«Хранилище кэша»** представлен доступный только для чтения список ресурсов, которые были кэшированы с помощью [Cache API](https://developer.mozilla.org/docs/Web/API/Cache) (сервисного работника).

![Вкладка «Кэш сервисного рабочего».](https://developer.chrome.com/static/docs/devtools/progressive-web-apps/image/service-worker-cache-pane-8a2ee5227e33c.png?hl=ru)

Обратите внимание: при первом открытии кэша и добавлении в него ресурса DevTools может не обнаружить изменение. Перезагрузите страницу, и вы должны увидеть кеш.

Если у вас открыто два или более кэша, вы увидите их в раскрывающемся списке « **Хранилище кэша»** .

![Несколько кэшей сервисных рабочих.](https://developer.chrome.com/static/docs/devtools/progressive-web-apps/image/multiple-service-worker-c-c0cc180dd1423.png?hl=ru)

## Использование квоты

Некоторые ответы на вкладке «Хранилище кэша» могут быть помечены как « [непрозрачные](https://developers.google.com/web/fundamentals/glossary?hl=ru#opaque-response) ». Это относится к ответу, полученному из другого источника, например, из [CDN](https://developers.google.com/web/fundamentals/glossary?hl=ru#CDN) или удаленного API, когда [CORS](https://fetch.spec.whatwg.org/#http-cors-protocol) не включен.

Чтобы избежать утечки междоменной информации, к размеру непрозрачного ответа, используемого для расчета пределов квоты хранилища (т. е. выдается ли исключение `QuotaExceeded` ), добавляется значительное дополнение, о котором сообщает [API `navigator.storage`](https://developer.chrome.com/blog/estimating-available-storage-space?hl=ru) .

Детали этого заполнения различаются от браузера к браузеру, но для Google Chrome это означает, что _минимальный_ размер, который любой один кэшированный непрозрачный ответ вносит в общее использование хранилища, составляет [примерно 7 мегабайт](https://bugs.chromium.org/p/chromium/issues/detail?id=796060#c17) . Вы должны помнить об этом при определении количества непрозрачных ответов, которые вы хотите кэшировать, поскольку вы можете легко превысить ограничения квоты хранилища гораздо раньше, чем вы ожидали бы, исходя из фактического размера непрозрачных ресурсов.

Связанные руководства:

-   [Переполнение стека: какие ограничения применяются к непрозрачным ответам?](https://stackoverflow.com/q/39109789/385997)
-   [Рабочая область: понимание квоты хранилища](https://developer.chrome.com/docs/workbox/understanding-storage-quota?hl=ru#beware-of-opaque-responses)

## Очистить хранилище

Вкладка **«Очистить хранилище»** — очень полезная функция при разработке прогрессивных веб-приложений. Эта вкладка позволяет отменить регистрацию сервис-воркеров и очистить все кеши и хранилище одним нажатием кнопки. Чтобы узнать больше, перейдите в раздел ниже.

Связанные руководства:

-   [Очистить хранилище](https://developer.chrome.com/docs/devtools/storage/localstorage?hl=ru#clear)

## Другие руководства по панели приложений

Ознакомьтесь с руководствами ниже, чтобы получить дополнительную помощь по другим панелям панели **«Приложение»** .

Связанные руководства:

-   [Проверка ресурсов страницы](https://developer.chrome.com/docs/devtools/resources?hl=ru)
-   [Проверяйте и управляйте локальным хранилищем и кэшами](https://developer.chrome.com/docs/devtools/storage/localstorage?hl=ru)
